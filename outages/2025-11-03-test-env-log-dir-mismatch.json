{
  "id": "2025-11-03-test-env-log-dir-mismatch",
  "date": "2025-11-03",
  "component": "tests",
  "rootCause": "Tests for configure_k3s_node_ip.sh and test_k3s_discover_node_ip_binding.py were setting LOG_DIR environment variable, but the script expects SUGARKUBE_LOG_DIR",
  "resolution": "Updated tests to use SUGARKUBE_LOG_DIR instead of LOG_DIR to match what the script expects",
  "references": [
    "tests/scripts/test_detect_node_ip.py::test_render_tls_config_skips_empty_registration",
    "tests/scripts/test_detect_node_ip.py::test_render_tls_config_includes_registration_address",
    "tests/scripts/test_k3s_discover_node_ip_binding.py::test_wlan_toggle_preserves_wired_node_ip",
    "scripts/configure_k3s_node_ip.sh"
  ]
}

{
  "id": "2025-10-23-k3s-bootstrap-split-brain",
  "date": "2025-10-22",
  "component": "scripts/k3s-discover.sh",
  "rootCause": "Relying solely on Avahi service-file reloads meant bootstrap adverts never registered with avahi-daemon, so nodes could not discover each other and multiple servers self-initialized.",
  "resolution": "Launch avahi-publish-service alongside the service-file advert during bootstrap, add privileged-command shims so tests can stub Avahi in user space, and cover the behaviour with an automated regression test.",
  "references": [
    "scripts/k3s-discover.sh",
    "tests/scripts/test_k3s_discover_bootstrap_publish.py"
  ]
}

{
  "id": "ci-pytest-discovers-kcov-tests",
  "date": "2025-11-06",
  "component": "CI Pipeline - Python Test Coverage",
  "rootCause": "Pytest was discovering and attempting to run test files from the kcov source directory. The CI workflow clones the kcov repository (a bash code coverage tool) to build and install it, but the source directory remains in the workspace. Pytest then discovers kcov's Python test files (e.g., kcov/tests/tools/test_accumulate.py) which inherit from libkcov.TestCase requiring specific initialization parameters (outbase, binaries, sources), causing TypeError during test collection.",
  "resolution": "Added pytest configuration to pyproject.toml to explicitly set testpaths=['tests'] and exclude the kcov directory via norecursedirs. This prevents pytest from discovering test files outside the repository's own test directory.",
  "references": [
    "https://github.com/SimonKagstrom/kcov",
    ".github/workflows/ci.yml"
  ]
}

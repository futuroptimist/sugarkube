{
  "id": "2025-10-24-k3s-discover-mdns-server-self-check",
  "date": "2025-10-24",
  "component": "scripts/k3s-discover.sh",
  "rootCause": "Server self-check relied solely on mDNS browse results and aborted even though avahi-publish-service had already established the advertisement.",
  "resolution": "Accept avahi-publish-service confirmations as a fallback source, record the origin in logs, and add a regression test that exercises the fallback.",
  "references": [
    "Console: pi@sugarkube0 just up dev (2025-10-24)",
    "scripts/k3s-discover.sh",
    "tests/scripts/test_k3s_discover_bootstrap_publish.py"
  ]
}

{
  "id": "mdns-selfcheck-dbus",
  "date": "2025-10-31",
  "component": "scripts/mdns_selfcheck.sh",
  "rootCause": "The mdns_liveness_probe helper always executed gdbus lookups even when SUGARKUBE_MDNS_DBUS was set to 0. In CI this reached the host Avahi daemon, producing real discovery output that broke the bats fixtures and caused mdns_* tests to fail.",
  "resolution": "Respect the DBus mode flag inside mdns_liveness_probe so the gdbus hostname check is skipped when DBus is disabled, preserving the fixture-driven CLI path.",
  "references": [
    "https://github.com/futuroptimist/sugarkube/actions/runs/18987646472/job/54234523569"
  ]
}

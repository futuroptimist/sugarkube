{
  "id": "mdns-wire-probe-dbus-fallback",
  "date": "2025-10-31",
  "component": "scripts/mdns_wire_probe.sh",
  "rootCause": "The embedded D-Bus discovery helper treated gdbus call failures as silent misses, so when every introspection call failed the script still reported dbus availability and never exercised the CLI fallback path.",
  "resolution": "Track whether any introspection succeeds and raise RuntimeError(\"avahi_dbus_unavailable\") when none do so the shell script marks the D-Bus path unavailable and falls back to CLI probing.",
  "references": [
    "tests/bats/mdns_wire_probe.bats",
    "scripts/mdns_wire_probe.sh"
  ]
}

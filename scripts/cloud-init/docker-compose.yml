# token.place and dspace services; extend via # extra-start markers
version: '3'
services:
  # tokenplace-start
  tokenplace:
    build:
      context: /opt/projects/token.place
      dockerfile: docker/Dockerfile.server
    container_name: tokenplace
    ports:
      - "5000:5000"
    env_file:
      # Define TOKEN_PLACE_ENV, SUPABASE_URL, SUPABASE_KEY and PORT in this file
      - /opt/projects/token.place/.env
    restart: unless-stopped
  # tokenplace-end
  # dspace-start
  dspace:
    build:
      context: /opt/projects/dspace/frontend
    working_dir: /opt/projects/dspace/frontend
    container_name: dspace
    ports:
      - "3000:3000"
    env_file:
      # Define NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY and PORT here
      - /opt/projects/dspace/frontend/.env
    restart: unless-stopped
  # dspace-end
  # extra-start
  # Add additional services below and ensure matching .env entries in init-env.sh.
  # Example:
  # myapp:
  #   build:
  #     context: /opt/projects/myapp
  #   container_name: myapp
  #   ports:
  #     - "1234:1234"
  #   env_file:
  #     - /opt/projects/myapp/.env
  #   restart: unless-stopped
  # extra-end
